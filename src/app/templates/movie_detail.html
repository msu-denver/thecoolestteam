{% extends 'base.html' %}

{% block title %}{{ movie.title }} - Details{% endblock %}

{% block content %}
<div class="d-flex justify-content-center mt-5">
    <div class="text-center">
        <h2>{{ movie.title }}</h2>
        <img src="{{ movie.poster_url }}" alt="{{ movie.title }} Poster" class="img-fluid my-3" style="max-width: 300px; border-radius: 15px;">

        {% if movie.releaseYear %}
            <p><strong>Release Year:</strong> {{ movie.releaseYear }}</p>
        {% else %}
            <p><strong>Release Year:</strong> N/A </p>
        {% endif %}

        {% if movie.averageRating %}
            <p><strong>Average Rating:</strong> {{ movie.averageRating }}/10</p>
        {% else %}
            <p><strong>Average Rating:</strong> N/A </p>
        {% endif %}

        <div class = "d-grid gap-2">
            <button type="button" class="btn btn-primary" onclick="simple_action(&quot;{{ url_for('main.movie_review', movie_id=movie.id) }}&quot;)">Write Review</button>
            <button type="button" class="btn btn-outline-secondary" onclick="simple_action(&quot;{{ url_for('main.home') }}&quot;)">Go Back</button>
        </div>
    </div> 
</div>
<div style = "padding-top: 2vh;">
    <h3 style="text-align: center; "> Movie Reviews </h3>
    {% if reviews %}
        {% for review in reviews %}
        <div class="container" tabindex="-1">
            <div class="bg-body-tertiary p-3 rounded">
                <h5>User: {{review.author.username}}</h5>
                <hr>
                <p>Rating: {{review.rating}} </p>
                <p> Review Date: {{review.created_at.year}}/{{review.created_at.month}}/{{review.created_at.day}}  </p>
                <p> {{review.comment}} </p>
            </div>
        </div>
        <p></p>
        {% endfor %}
    {% else %}
        <p style="text-align: center">Be The First To Review This Movie!</p>
    {% endif %} 
</div>
{% endblock %}




  
  